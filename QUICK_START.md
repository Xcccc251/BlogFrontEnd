# 知识图谱可视化 - 快速开始指南

## 🎉 立即体验

### 1️⃣ 启动后端服务

```bash
cd my-blogv2
go run main.go
```

服务将在 `http://localhost:7001` 启动

### 2️⃣ 确保数据已同步

```bash
# 首次使用需要同步Neo4j数据
curl -X POST http://localhost:7001/neo4j/sync/all
```

### 3️⃣ 启动前端服务

```bash
cd kuailemao-blog
npm run dev
```

### 4️⃣ 访问页面

打开浏览器访问: `http://localhost:端口/graph`

或点击导航栏的 **"图谱"** 按钮

---

## 🎮 操作说明

### 图谱操作

| 操作 | 方法 | 效果 |
|------|------|------|
| 平移画布 | 鼠标拖拽空白区域 | 移动整个图谱视图 |
| 缩放画布 | 鼠标滚轮 | 放大/缩小图谱 |
| 拖动节点 | 鼠标拖拽节点 | 调整节点位置 |
| 查看节点信息 | 鼠标悬停 | 显示节点类型和标签 |
| 选择节点 | 单击节点 | 高亮节点并触发AI对话 |

### AI交互

1. **点击任意节点** → 右侧AI助手自动提问
2. **查看AI回答** → 了解节点详细信息
3. **继续提问** → 可以追问更多问题

---

## 🎨 界面说明

```
+---------------------------------------------------+
|  左侧 (65%)          |  右侧 (35%)                  |
|  图谱可视化区域       |  AI助手                      |
|                     |                              |
|  [力导向布局图谱]     |  [模型选择器]                 |
|                     |                              |
|  • 蓝色节点 = 用户    |  [聊天消息]                   |
|  • 绿色节点 = 文章    |  User: ...                   |
|  • 黄色节点 = 分类    |  AI: ...                     |
|  • 红色节点 = 标签    |                              |
|                     |  [输入框]                     |
+---------------------------------------------------+
```

### 节点颜色

- 🔵 **蓝色**: 用户（User）
- 🟢 **绿色**: 文章（Article）
- 🟡 **黄色**: 分类（Category）
- 🔴 **红色**: 标签（Tag）

### 节点大小

节点大小代表**受欢迎程度**：
- 大节点：高点赞数（热门）
- 小节点：低点赞数

---

## 📊 功能特性

### ✅ 已实现

- [x] G6力导向布局可视化
- [x] 节点类型颜色区分
- [x] 节点大小动态调整
- [x] 鼠标交互（拖拽、缩放、选择）
- [x] 悬停提示（Tooltip）
- [x] 点击节点触发AI对话
- [x] 响应式布局
- [x] 可拖拽分割器
- [x] 窗口resize自适应

### 🔄 计划中

- [ ] 右键菜单（查看详情、展开邻居）
- [ ] 图例显示
- [ ] 节点搜索高亮
- [ ] 导出为图片
- [ ] 布局切换（圆形、树形、径向）
- [ ] 节点过滤器
- [ ] 路径查找可视化
- [ ] 节点编辑功能

---

## 🔧 故障排查

### 图谱不显示？

**1. 检查后端服务**
```bash
curl http://localhost:7001/graph/overview
# 应该返回JSON数据
```

**2. 检查Neo4j数据**
```bash
# 同步数据
curl -X POST http://localhost:7001/neo4j/sync/all
```

**3. 查看浏览器控制台**
- 按F12打开开发者工具
- 查看Console标签是否有错误

### 节点点击无反应？

**检查AI服务**：
- 确保AI模型已配置
- 检查网络连接
- 查看右侧对话框是否有响应

### 性能卡顿？

**减少节点数量**：
```typescript
// 在 Graph/index.vue 中修改
const response = await fetch('http://localhost:7001/graph/overview?limit=50')
// 默认100，可改为50或更少
```

---

## 💡 使用技巧

### 1. 快速找到感兴趣的节点

- **悬停查看**: 鼠标悬停快速查看节点信息
- **点击询问**: 点击节点让AI详细介绍

### 2. 探索节点关系

- **观察连线**: 箭头指向表示关系方向
  - User → Article: 用户点赞文章
  - Article → Category: 文章属于分类
  
### 3. 调整视图

- **拖动节点**: 调整布局让图谱更清晰
- **缩放画布**: 放大查看细节，缩小看全局
- **拖拽分割器**: 调整左右比例（在中间线上拖动）

### 4. AI辅助分析

示例对话：
```
你: （点击一个热门文章节点）
AI: 这是一篇关于Vue3的文章，被25位用户点赞...

你: 这篇文章属于哪个分类？
AI: 该文章属于"前端开发"分类...

你: 有哪些用户喜欢这篇文章？
AI: 根据图谱数据，喜欢这篇文章的用户有...
```

---

## 📖 更多文档

- **完整API文档**: `GRAPH_API_USAGE.md`
- **部署指南**: `GRAPH_VISUALIZATION_SETUP.md`
- **G6集成文档**: `G6_INTEGRATION_COMPLETE.md`
- **菜单配置**: `GRAPH_MENU_SETUP.md`
- **页面使用说明**: `src/views/Graph/README.md`

---

## 🎯 下一步

### 开发者

1. 查看 `G6_INTEGRATION_COMPLETE.md` 了解技术细节
2. 阅读 `src/views/Graph/index.vue` 源码
3. 参考 G6 官方文档进行自定义

### 使用者

1. 探索不同类型的节点
2. 点击节点与AI互动
3. 发现有趣的内容关系

---

## 📞 问题反馈

遇到问题？

1. 检查 [故障排查](#故障排查) 部分
2. 查看浏览器控制台错误信息
3. 参考相关文档

---

**祝使用愉快！** 🎊

---

## 🔖 快速参考

### 常用命令

```bash
# 启动后端
cd my-blogv2 && go run main.go

# 启动前端
cd kuailemao-blog && npm run dev

# 同步数据
curl -X POST http://localhost:7001/neo4j/sync/all

# 检查图谱数据
curl http://localhost:7001/graph/overview
```

### 关键文件

| 文件 | 作用 |
|------|------|
| `src/views/Graph/index.vue` | 主页面组件 |
| `src/router/routers.ts` | 路由配置 |
| `src/components/Layout/Header/index.vue` | 菜单配置 |
| `service/GraphService.go` | 后端服务 |
| `common/neo4jUtil/Neo4jUtil.go` | Neo4j工具 |

### 访问地址

| 服务 | 地址 |
|------|------|
| 前端页面 | http://localhost:端口/graph |
| 后端API | http://localhost:7001 |
| 图谱概览 | http://localhost:7001/graph/overview |
| 节点列表 | http://localhost:7001/graph/nodes |

---

**最后更新**: 2024-01-15  
**版本**: v1.0.0
